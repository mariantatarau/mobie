(function (document, window, angular, undefined) { 'use strict';angular.module("mobie.components",["mobie.components.sidenav","mobie.components.backdrop","mobie.components.modal","mobie.components.icon"]),angular.module("mobie",["mobie.core","mobie.components"]),angular.module("mobie.core",["mobie.core.helpers","mobie.core.registry","mobie.core.eventemitter","mobie.core.component"]).directive("mbAnimation",function(){return function(o,e,n){var m=void 0;n.$observe("mbAnimation",function(o){angular.isString(m)&&e.removeClass(m),m="mb-"+o,e.addClass(m)})}});
function MbComponentFactory(e,t){var n=e.extend({initialize:function(e,t){this.isVisible=!1,angular.isDefined(e)&&this.setElement(e),angular.isDefined(t)&&this.setId(t),this.on("visibleStateChangeSuccess",function(){this.emit(this.getVisibleState()?"visible":"notVisible")}),this.on("visibleStateChangeStart",function(e){this.emit(e?"visibleChangeStart":"notVisibleChangeStart")})},show:function(){return this.setVisibleState(!0)},hide:function(){return this.setVisibleState(!1)},toggle:function(){return this.setVisibleState(!this.getVisibleState())},getVisibleState:function(){return!!this.isVisible},setVisibleState:function(e){var n=this;return n.emit("visibleStateChangeStart",e),t[e?"addClass":"removeClass"](this.componentEl,"mb-visible").then(function(){n.isVisible=e,n.emit("visibleStateChangeSuccess")},function(e){n.emit("visibleStateChangeError",e)})},setId:function(e){if(angular.isDefined(this.getId()))throw new Error("You cannot change a component.id more than once");return Object.defineProperty(this,"id",{value:e,writable:!1}),this},getId:function(){return this.id},setElement:function(e){return this.componentEl=e,this},getElement:function(){return this.componentEl},enterElement:function(e,n){var i=this;return angular.isUndefined(e)&&(e=angular.element(document.body)),this.emit("enterElementStart"),t.enter(this.getElement(),e,n).then(function(){i.emit("enterElementSuccess")})},removeElement:function(){return this.getElement().remove(),this.componentEl=void 0,this},leaveElement:function(){var e=this;return this.emit("leaveElementStart"),t.leave(this.getElement()).then(function(){e.emit("leaveElementSuccess")})},destroy:function(){this.removeElement()}});return n}function MbComponentInterface(e){var t=e.createClass({show:e.notImplemented("show"),hide:e.notImplemented("hide"),toggle:e.notImplemented("toggle"),setElement:e.notImplemented("setElement"),getElement:e.notImplemented("getElement"),setId:e.notImplemented("setId"),getId:e.notImplemented("getId"),destroy:e.notImplemented("destroy"),getVisibleState:e.notImplemented("getVisibleState"),setVisibleState:e.notImplemented("setVisibleState")});return t}function $MbComponentProvider(){function e(e,n,i,o,s){var r=angular.element(document.body);return function(a){var l,m={};m.options=a=angular.extend({},t,a),angular.isUndefined(a.scope)&&(a.scope=s.$new());var c=a.scope=a.scope.$new(),u=a.component=m.component=new e;c.$on("$destroy",function(){u.destroy(),l=void 0}),angular.forEach(["show","hide","toggle"],function(e){m[e]=function(){return u[e]()}}),angular.isUndefined(a.template)&&angular.isDefined(a.templateUrl)&&(a.template=i.get(a.templateUrl)),l=a.el=angular.element(a.template);var h=m.componentLink=n(l.contents());return u.once("visibleChangeStart",function(){h(c)}),o.enter(l,r).then(function(){u.emit("enter")}),u.setElement(l),m}}var t=this.defaults={};e.$inject=["MbComponent","$compile","$templateCache","$animate","$rootScope"],this.$get=e}MbComponentFactory.$inject=["MbComponentInterface","$animate"],MbComponentInterface.$inject=["Helpers"],angular.module("mobie.core.component",["mobie.core.helpers"]).factory("MbComponentInterface",MbComponentInterface).factory("MbComponent",MbComponentFactory).provider("$mbComponent",$MbComponentProvider);
function EventEmitter(){EventEmitter.init.call(this)}function EventEmitterFactory(){return EventEmitter}EventEmitter.EventEmitter=EventEmitter,EventEmitter.usingDomains=!1,EventEmitter.prototype.domain=void 0,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this.domain=null,EventEmitter.usingDomains&&(domain=domain||require("domain"),!domain.active||this instanceof domain.Domain||(this.domain=domain.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events={}),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if(!utilangularisNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,i,s,r,o;if(this._events||(this._events={}),"error"===e&&!this._events.error){if(t=arguments[1],!this.domain)throw t instanceof Error?t:Error('Uncaught, unspecified "error" event.');return t||(t=new Error('Uncaught, unspecified "error" event.')),t.domainEmitter=this,t.domain=this.domain,t.domainThrown=!1,this.domain.emit("error",t),!1}if(n=this._events[e],angular.isUndefined(n))return!1;if(this.domain&&this!==process&&this.domain.enter(),angular.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),r=1;i>r;r++)s[r-1]=arguments[r];n.apply(this,s)}else if(angular.isObject(n)){for(i=arguments.length,s=new Array(i-1),r=1;i>r;r++)s[r-1]=arguments[r];for(o=n.slice(),i=o.length,r=0;i>r;r++)o[r].apply(this,s)}return this.domain&&this!==process&&this.domain.exit(),!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!angular.isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,angular.isFunction(t.listener)?t.listener:t),this._events[e]?angular.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,angular.isObject(this._events[e])&&!this._events[e].warned){var n;n=angular.isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d %s listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length,e),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!angular.isFunction(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,i,s,r;if(!angular.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||angular.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(angular.isObject(n)){for(r=s;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){i=r;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],angular.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?angular.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?angular.isFunction(e._events[t])?1:e._events[t].length:0},angular.module("mobie.core.eventemitter",[]).factory("EventEmitter",EventEmitterFactory);
function extend(e,t){var r,n=this;r=e&&angular.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},angular.extend(r,n,t);var a=function(){this.constructor=r};return a.prototype=n.prototype,r.prototype=new a,e&&angular.extend(r.prototype,e),r.__super__=n.prototype,r}function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function DefaultClass(){angular.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}function createClass(e,t){return DefaultClass.extend(e,t)}function HelpersFactory(e,t,r){function n(e){return t.reject(new Error("The method "+e+" is not implemented"))}function a(){return i++,i}var o={};DefaultClass.extend=extend,inherits(DefaultClass,r),o.createClass=createClass,o.notImplemented=n,o.safeDigest=function(t,r){angular.isUndefined(t)&&(t=e),angular.isDefined(t.$$phase)||angular.isDefined(t.$root.$$phase)?t.$$postDigest(r):t.$apply(r)};var i=0;return o.nextId=a,o}function UtilFactory(){var e={};return e.inherits=inherits,e}HelpersFactory.$inject=["$rootScope","$q","EventEmitter"],angular.module("mobie.core.helpers",["mobie.core.eventemitter"]).factory("Helpers",HelpersFactory).factory("Util",UtilFactory);
angular.module("mobie.core.registry",["mobie.core.helpers"]).factory("$mbComponentRegistry",function(){var n=[],e={get:function(e){var r;if(angular.forEach(n,function(n){n.id===e&&(r=n)}),angular.isUndefined(r))throw new Error('component "'+e+'" is not defined');return r},register:function(e,r){function i(){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}if(angular.isUndefined(e.id)&&angular.isUndefined(r))throw new Error("component must have a id key or you must specify one for this instance");return angular.isUndefined(e.id)&&(e.id=r),n.push(e),i}};return e});
function BackdropFactory(a,o){var e=angular.element(document.body),r=angular.element("<div>");r.addClass("backdrop mb-backdrop"),a.enter(r,e);var n=new o(r,"default-backdrop");return n}BackdropFactory.$inject=["$animate","MbComponent"],angular.module("mobie.components.backdrop",["mobie.core.component"]).factory("$mbBackdrop",BackdropFactory);
angular.module("mobie.components.icon",[]).directive("mbIcon",function(){return{restrict:"EA",scope:{name:"@"},template:'<span ng-class="classes" ng-show="hasIconName"></span>',controller:["$scope","$attrs",function(s,e){s.classes={fa:!0},e.$observe("name",function(e){s.hasIconName=e?s.classes["fa-"+e]=!0:!1})}]}});
function $MbModalProvider(){function o(o,n,a,t){var i=angular.element(document.body);return function(t){t=angular.extend({},e,t);var l=o(t),m=(t.scope,l.component);return m.on("visibleChangeStart",function(){a.show(),n.addClass(i,t.activeBodyClass)}),m.on("notVisibleChangeStart",function(){a.hide(),n.removeClass(i,t.activeBodyClass)}),l}}var e=this.defaults={templateUrl:"components/modal/modal.html",activeBodyClass:"mb-modal-visible"};o.$inject=["$mbComponent","$animate","$mbBackdrop","$q"],this.$get=o}angular.module("mobie.components.modal",["mobie.core.component","mobie.components.backdrop"]).provider("$mbModal",$MbModalProvider);
function $MbSidenavFactory(n){return function(e){return n.get(e)}}function SidenavDirective(){return{restrict:"EA",scope:{},controller:"$mbSidenavController",controllerAs:"mbSidenavCtrl"}}$MbSidenavFactory.$inject=["$mbComponentRegistry"],angular.module("mobie.components.sidenav",["mobie.components.backdrop","mobie.core.registry","mobie.core.component"]).controller("$mbSidenavController",["$scope","$element","$attrs","$transclude","MbComponent","$mbComponentRegistry","$mbBackdrop",function(n,e,o,t,i,r,c){function a(e){l.hide(),n.$apply()}var l=this.component=new i(e,o.componentId),m=c.getElement();r.register(this.component),l.on("visibleChangeStart",function(){c.show()}),l.on("visibleStateChangeError",function(){n.$apply(function(){c.hide()})}),l.on("visible",function(){n.$apply(function(){m.on("click",a)})}),l.on("notVisible",function(){n.$apply(function(){m.off("click",a),c.hide()})})}]).factory("$mbSidenav",$MbSidenavFactory).directive("mbSidenav",SidenavDirective);}(document, window, angular, undefined))